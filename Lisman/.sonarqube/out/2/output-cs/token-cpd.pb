ÿG
âC:\Users\Vik-t\Documents\Software Engineering\5to Semestre\Tecnolog√≠as para la Construcci√≥n\Proyecto\LISMAN\Lisman\Lisman\Lobby.xaml.cs
	namespace 	
Lisman
 
{ 
public 

partial 
class 
Lobby 
:  
Window! '
,' (
LismanService) 6
.6 7 
IChatManagerCallback7 K
{L M
int 
COMPLETEPLAYERS 
= 
$num 
;  
InstanceContext 
instance  
=! "
null# '
;' (
LismanService 
. 
ChatManagerClient '
client( .
=/ 0
null1 5
;5 6
int 
idGame 
; 
public 
Lobby 
( 
int 
idGame 
)  
{ 	
InitializeComponent 
(  
)  !
;! "
instance 
= 
new 
InstanceContext *
(* +
this+ /
)/ 0
;0 1
this   
.   
idGame   
=   
idGame    
;    !
client!! 
=!! 
new!! 
ChatManagerClient!! *
(!!* +
instance!!+ 3
)!!3 4
;!!4 5
client"" 
."" 
JoinChat"" 
("" 
SingletonAccount"" ,
."", -
getSingletonAccount""- @
(""@ A
)""A B
.""B C
User""C G
,""G H
idGame""I O
)""O P
;""P Q!
textBlock_name_player## !
.##! "
Text##" &
=##' (
SingletonAccount##) 9
.##9 :
getSingletonAccount##: M
(##M N
)##N O
.##O P
User##P T
;##T U
btn_startGame$$ 
.$$ 
	IsEnabled$$ #
=$$$ %
false$$& +
;$$+ ,
}'' 	
private)) 
void)) 
Button_Click_Cancel)) (
())( )
object))) /
sender))0 6
,))6 7
RoutedEventArgs))8 G
e))H I
)))I J
{** 	
MultiplayerHome++ 
homeMultiplayer++ +
=++, -
new++. 1
MultiplayerHome++2 A
(++A B
)++B C
;++C D
homeMultiplayer,, 
.,, 
Show,,  
(,,  !
),,! "
;,," #
this-- 
.-- 
Close-- 
(-- 
)-- 
;-- 
}.. 	
private00 
void00 
btn_exitGame_Click00 '
(00' (
object00( .
sender00/ 5
,005 6
RoutedEventArgs007 F
e00G H
)00H I
{00J K
MultiplayerHome11 
homeMultiplayer11 +
=11, -
new11. 1
MultiplayerHome112 A
(11A B
)11B C
;11C D
LismanService22 
.22 
GameManagerClient22 +

clientGame22, 6
=227 8
new229 <
LismanService22= J
.22J K
GameManagerClient22K \
(22\ ]
)22] ^
;22^ _

clientGame33 
.33 
	LeaveGame33  
(33  !
SingletonAccount33! 1
.331 2
getSingletonAccount332 E
(33E F
)33F G
.33G H
User33H L
,33L M
idGame33N T
)33T U
;33U V
client44 
.44 
	LeaveChat44 
(44 
SingletonAccount44 -
.44- .
getSingletonAccount44. A
(44A B
)44B C
.44C D
User44D H
,44H I
idGame44J P
)44P Q
;44Q R
homeMultiplayer55 
.55 
Show55  
(55  !
)55! "
;55" #
this66 
.66 
Close66 
(66 
)66 
;66 
}77 	
public99 
void99 
NotifyMessage99 !
(99! "
Message99" )
message99* 1
)991 2
{:: 	
textBox_chat;; 
.;; 
Text;; 
+=;;  
$str;;! %
+;;& '
message;;( /
.;;/ 0
Account;;0 7
.;;7 8
User;;8 <
+;;= >
$str;;? C
+;;D E
message;;F M
.;;M N
Text;;N R
;;;R S
}== 	
public?? 
void?? 
NotifyJoinedPlayer?? &
(??& '
string??' -
user??. 2
)??2 3
{@@ 	
textBox_chatAA 
.AA 
TextAA 
+=AA  
$strAA! %
+AA& '
userAA( ,
+AA- .

PropertiesAA/ 9
.AA9 :
	ResourcesAA: C
.AAC D
joined_gameAAD O
;AAO P
}DD 	
publicFF 
voidFF 
SendMessageFF 
(FF  
)FF  !
{FF" #
RandomGG 
rdGG 
=GG 
newGG 
RandomGG "
(GG" #
$numGG# &
)GG& '
;GG' (
ifHH 
(HH 
textBox_messageHH 
.HH  
TextHH  $
!=HH% '
StringHH( .
.HH. /
EmptyHH/ 4
)HH4 5
{HH6 7
MessageII 
messageII 
=II  !
newII" %
MessageII& -
{II. /
IdKK 
=KK 
rdKK 
.KK 
NextKK  
(KK  !
)KK! "
,KK" #
Creation_dateLL !
=LL" #
DateTimeLL$ ,
.LL, -
NowLL- 0
,LL0 1
TextMM 
=MM 
textBox_messageMM *
.MM* +
TextMM+ /
,MM/ 0
AccountNN 
=NN 
SingletonAccountNN .
.NN. /
getSingletonAccountNN/ B
(NNB C
)NNC D
}OO 
;OO 
clientQQ 
.QQ 
SendMessageQQ "
(QQ" #
messageQQ# *
,QQ* +
idGameQQ, 2
)QQ2 3
;QQ3 4
textBox_messageRR 
.RR  
TextRR  $
=RR% &
StringRR' -
.RR- .
EmptyRR. 3
;RR3 4
}SS 
}WW 	
privateYY 
voidYY 
button_send_ClickYY &
(YY& '
objectYY' -
senderYY. 4
,YY4 5
RoutedEventArgsYY6 E
eYYF G
)YYG H
{ZZ 	
SendMessage[[ 
([[ 
)[[ 
;[[ 
}\\ 	
public__ 
void__ 
NotifyNumberPlayers__ '
(__' (
int__( +
numberPlayers__, 9
)__9 :
{`` 	
ifaa 
(aa 
numberPlayersaa 
==aa 
COMPLETEPLAYERSaa  /
)aa/ 0
{aa1 2
btn_startGamebb 
.bb 
	IsEnabledbb '
=bb( )
truebb* .
;bb. /
}cc $
textBlock_number_playersdd $
.dd$ %
Textdd% )
=dd* +
numberPlayersdd- :
+dd; <
$strdd= C
;ddC D
}ee 	
publichh 
voidhh 
On_key_Down_Handlerhh '
(hh' (
objecthh( .
senderhh/ 5
,hh5 6
KeyEventArgshh7 C
ehhD E
)hhE F
{hhG H
ifii 
(ii 
eii 
.ii 
Keyii 
==ii 
Keyii 
.ii 
Returnii #
)ii# $
{ii% &
SendMessagejj 
(jj 
)jj 
;jj 
}kk 
}ll 	
publicnn 
voidnn 
NotifyLeftPlayernn $
(nn$ %
stringnn% +
usernn, 0
)nn0 1
{nn2 3
textBox_chatoo 
.oo 
Textoo 
+=oo  
useroo! %
+oo& '

Propertiesoo( 2
.oo2 3
	Resourcesoo3 <
.oo< =
	left_gameoo= F
;ooF G
}pp 	
privaterr 
voidrr 
btn_startGame_Clickrr (
(rr( )
objectrr) /
senderrr0 6
,rr6 7
RoutedEventArgsrr8 G
errH I
)rrI J
{ss 	
clienttt 
.tt 
	StartGamett 
(tt 
SingletonAccounttt -
.tt- .
getSingletonAccounttt. A
(ttA B
)ttB C
.ttC D
UserttD H
,ttH I
idGamettJ P
)ttP Q
;ttQ R
}uu 	
publicww 
voidww 
InitGameww 
(ww 
)ww 
{xx 	
MultiplayerGameyy 
gameyy  
=yy! "
newyy# &
MultiplayerGameyy' 6
(yy6 7
idGameyy7 =
)yy= >
;yy> ?
gamezz 
.zz 
Showzz 
(zz 
)zz 
;zz 
this{{ 
.{{ 
Close{{ 
({{ 
){{ 
;{{ 
}|| 	
}}} 
}~~ è
ÖC:\Users\Vik-t\Documents\Software Engineering\5to Semestre\Tecnolog√≠as para la Construcci√≥n\Proyecto\LISMAN\Lisman\Lisman\Logger.cs
	namespace 	
Lisman
 
{ 
class		 	
Logger		
 
{

 
public 
static 
readonly 
log4net &
.& '
ILog' +
log, /
=0 1
log4net2 9
.9 :

LogManager: D
.D E
	GetLoggerE N
(N O
SystemO U
.U V

ReflectionV `
.` a

MethodBasea k
.k l
GetCurrentMethodl |
(| }
)} ~
.~ 
DeclaringType	 å
)
å ç
;
ç é
} 
} É
åC:\Users\Vik-t\Documents\Software Engineering\5to Semestre\Tecnolog√≠as para la Construcci√≥n\Proyecto\LISMAN\Lisman\Lisman\MainMenu.xaml.cs
	namespace 	
Lisman
 
{ 
public 

partial 
class 
MainMenu !
:" #
Window$ *
{+ ,
public 
MainMenu 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
private 
void 
Button_Click_Logout (
(( )
object) /
sender0 6
,6 7
RoutedEventArgs8 G
eH I
)I J
{ 	

MainWindow 
login 
= 
new "

MainWindow# -
(- .
). /
;/ 0
login 
. 
Show 
( 
) 
; 
this 
. 
Close 
( 
) 
; 
} 	
private   
void   !
table_positions_Click   *
(  * +
object  + 1
sender  2 8
,  8 9
RoutedEventArgs  : I
e  J K
)  K L
{!! 	
PositionsTable"" 
	positions"" $
=""% &
new""' *
PositionsTable""+ 9
(""9 :
)"": ;
;""; <
	positions## 
.## 
Show## 
(## 
)## 
;## 
this$$ 
.$$ 
Close$$ 
($$ 
)$$ 
;$$ 
}%% 	
private'' 
void'' (
button_multiplayerMode_Click'' 1
(''1 2
object''2 8
sender''9 ?
,''? @
RoutedEventArgs''A P
e''Q R
)''R S
{(( 	
MultiplayerHome)) 
multiplayerWindow)) -
=)). /
new))0 3
MultiplayerHome))4 C
())C D
)))D E
;))E F
multiplayerWindow** 
.** 
Show** "
(**" #
)**# $
;**$ %
this++ 
.++ 
Close++ 
(++ 
)++ 
;++ 
}-- 	
}00 
}11 ™
ìC:\Users\Vik-t\Documents\Software Engineering\5to Semestre\Tecnolog√≠as para la Construcci√≥n\Proyecto\LISMAN\Lisman\Lisman\MultiplayerHome.xaml.cs
	namespace 	
Lisman
 
{ 
public 

partial 
class 
MultiplayerHome (
:) *
Window+ 1
{2 3
public 
MultiplayerHome 
( 
)  
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
private 
void 
button_goBack_Click (
(( )
object) /
sender0 6
,6 7
RoutedEventArgs8 G
eH I
)I J
{ 	
MainMenu 
menu 
= 
new 
MainMenu  (
(( )
)) *
;* +
menu 
. 
Show 
( 
) 
; 
this   
.   
Close   
(   
)   
;   
}!! 	
private## 
void##  
button_newGame_Click## )
(##) *
object##* 0
sender##1 7
,##7 8
RoutedEventArgs##9 H
e##I J
)##J K
{$$ 	
LismanService%% 
.%% 
GameManagerClient%% +
client%%, 2
=%%3 4
new%%5 8
LismanService%%9 F
.%%F G
GameManagerClient%%G X
(%%X Y
)%%Y Z
;%%Z [
int&& 
idGame&& 
=&& 
client&& 
.&&  

CreateGame&&  *
(&&* +
SingletonAccount&&+ ;
.&&; <
getSingletonAccount&&< O
(&&O P
)&&P Q
.&&Q R
User&&R V
)&&V W
;&&W X
if'' 
('' 
idGame'' 
>'' 
$num'' 
)'' 
{'' 
Lobby(( 
lobby(( 
=(( 
new(( !
Lobby((" '
(((' (
idGame((( .
)((. /
;((/ 0
lobby)) 
.)) 
Show)) 
()) 
))) 
;)) 
this** 
.** 
Close** 
(** 
)** 
;** 
}++ 
}-- 	
private// 
void// !
button_joinGame_Click// *
(//* +
object//+ 1
sender//2 8
,//8 9
RoutedEventArgs//: I
e//J K
)//K L
{00 	
LismanService11 
.11 
GameManagerClient11 +
client11, 2
=113 4
new115 8
LismanService119 F
.11F G
GameManagerClient11G X
(11X Y
)11Y Z
;11Z [
int22 
idGame22 
=22 
client22 
.22  
JoinGame22  (
(22( )
SingletonAccount22) 9
.229 :
getSingletonAccount22: M
(22M N
)22N O
.22O P
User22P T
)22T U
;22U V
if33 
(33 
idGame33 
>33 
$num33 
)33 
{33 
Lobby44 
lobby44 
=44 
new44 !
Lobby44" '
(44' (
idGame44( .
)44. /
;44/ 0
lobby55 
.55 
Show55 
(55 
)55 
;55 
this66 
.66 
Close66 
(66 
)66 
;66 
}77 
else77 
{77 

MessageBox88 
.88 
Show88 
(88  

Properties88  *
.88* +
	Resources88+ 4
.884 5!
message_nogames_found885 J
)88J K
;88K L
}99 
}<< 	
}== 
}>> ıÖ
ìC:\Users\Vik-t\Documents\Software Engineering\5to Semestre\Tecnolog√≠as para la Construcci√≥n\Proyecto\LISMAN\Lisman\Lisman\MultiplayerGame.xaml.cs
	namespace 	
Lisman
 
{ 
public 

partial 
class 
MultiplayerGame (
:) *
Window+ 1
,1 2'
IMultiplayerManagerCallback3 N
{N O
int 
idgame 
; 
int 
[ 
, 
] 
gameMap 
= 
new 
int  
[  !
$num! #
,# $
$num% '
]' (
;( )
const   
int   
LISMANYELLOW   
=    
$num  ! "
;  " #
const!! 
int!! 
	LISMANRED!! 
=!! 
$num!! 
;!!  
const"" 
int"" 

LISMANBLUE"" 
="" 
$num""  
;""  !
const## 
int## 
LISMANGREEN## 
=## 
$num##  !
;##! "
Image$$ 
lismanPlayerImage$$ 
=$$  !
null$$" &
;$$& '
int&& 
X&& 
=&& 
$num&& 
;&& 
int'' 
Y'' 
='' 
$num'' 
;'' 
String)) 
parentDirectory)) 
=))  
	Directory))! *
.))* +
	GetParent))+ 4
())4 5
	Directory))5 >
.))> ?
GetCurrentDirectory))? R
())R S
)))S T
)))T U
.))U V
Parent))V \
.))\ ]
FullName))] e
;))e f
Image++ 
pill0++ 
=++ 
new++ 
Image++ 
(++  
)++  !
;++! "
Image,, 
pill1,, 
=,, 
new,, 
Image,, 
(,,  
),,  !
;,,! "
Image-- 
pill2-- 
=-- 
new-- 
Image-- 
(--  
)--  !
;--! "
Image.. 
pill3.. 
=.. 
new.. 
Image.. 
(..  
)..  !
;..! "
Image// 
pill4// 
=// 
new// 
Image// 
(//  
)//  !
;//! "
Image00 
pill500 
=00 
new00 
Image00 
(00  
)00  !
;00! "
Image11 
pill611 
=11 
new11 
Image11 
(11  
)11  !
;11! "
Image22 
pill722 
=22 
new22 
Image22 
(22  
)22  !
;22! "
Image33 
pill833 
=33 
new33 
Image33 
(33  
)33  !
;33! "
Image44 
pill944 
=44 
new44 
Image44 
(44  
)44  !
;44! "
Image55 
pill1055 
=55 
new55 
Image55  
(55  !
)55! "
;55" #
Image66 
pill1166 
=66 
new66 
Image66  
(66  !
)66! "
;66" #
DispatcherTimer88 
runLeft88 
=88  !
new88" %
DispatcherTimer88& 5
(885 6
)886 7
;887 8
DispatcherTimer99 
runUp99 
=99 
new99  #
DispatcherTimer99$ 3
(993 4
)994 5
;995 6
DispatcherTimer:: 
runRight::  
=::! "
new::# &
DispatcherTimer::' 6
(::6 7
)::7 8
;::8 9
DispatcherTimer;; 
runDown;; 
=;;  !
new;;" %
DispatcherTimer;;& 5
(;;5 6
);;6 7
;;;7 8
InstanceContext== 
instace== 
===  !
null==" &
;==& '$
MultiplayerManagerClient>>  
client>>! '
=>>( )
null>>* .
;>>. /
public@@ 
MultiplayerGame@@ 
(@@ 
int@@ "
idgame@@# )
)@@) *
{AA 	
InitializeComponentBB 
(BB  
)BB  !
;BB! "
instaceCC 
=CC 
newCC 
InstanceContextCC )
(CC) *
thisCC* .
)CC. /
;CC/ 0
thisDD 
.DD 
idgameDD 
=DD 
idgameDD  
;DD  !
clientEE 
=EE 
newEE $
MultiplayerManagerClientEE 1
(EE1 2
instaceEE2 9
)EE9 :
;EE: ;
tryFF 
{GG 
clientHH 
.HH 
JoinMultiplayerGameHH *
(HH* +
SingletonAccountHH+ ;
.HH; <
getSingletonAccountHH< O
(HHO P
)HHP Q
.HHQ R
UserHHR V
,HHV W
idgameHHX ^
)HH^ _
;HH_ `
}II 
catchJJ 
(JJ 
	ExceptionJJ 
exJJ 
)JJ  
{KK 
LoggerLL 
.LL 
logLL 
.LL 
ErrorLL  
(LL  !
exLL! #
)LL# $
;LL$ %
}NN 
runLeftQQ 
.QQ 
TickQQ 
+=QQ 
newQQ  
EventHandlerQQ! -
(QQ- .
RunLeftQQ. 5
)QQ5 6
;QQ6 7
runLeftRR 
.RR 
IntervalRR 
=RR 
newRR "
TimeSpanRR# +
(RR+ ,
$numRR, -
,RR- .
$numRR/ 0
,RR0 1
$numRR2 3
,RR3 4
$numRR5 6
,RR6 7
$numRR8 ;
)RR; <
;RR< =
runUpSS 
.SS 
TickSS 
+=SS 
newSS 
EventHandlerSS *
(SS* +
RunUpSS+ 0
)SS0 1
;SS1 2
runUpTT 
.TT 
IntervalTT 
=TT 
newTT  
TimeSpanTT! )
(TT) *
$numTT* +
,TT+ ,
$numTT- .
,TT. /
$numTT0 1
,TT1 2
$numTT3 4
,TT4 5
$numTT5 8
)TT8 9
;TT9 :
runRightUU 
.UU 
TickUU 
+=UU 
newUU  
EventHandlerUU! -
(UU- .
RunRightUU. 6
)UU6 7
;UU7 8
runRightVV 
.VV 
IntervalVV 
=VV 
newVV  #
TimeSpanVV$ ,
(VV, -
$numVV- .
,VV. /
$numVV0 1
,VV1 2
$numVV3 4
,VV4 5
$numVV6 7
,VV7 8
$numVV9 <
)VV< =
;VV= >
runDownWW 
.WW 
TickWW 
+=WW 
newWW 
EventHandlerWW  ,
(WW, -
RunDownWW- 4
)WW4 5
;WW5 6
runDownXX 
.XX 
IntervalXX 
=XX 
newXX "
TimeSpanXX# +
(XX+ ,
$numXX, -
,XX- .
$numXX/ 0
,XX0 1
$numXX2 3
,XX3 4
$numXX5 6
,XX6 7
$numXX8 ;
)XX; <
;XX< =

MatrizGameZZ 
(ZZ 
)ZZ 
;ZZ 
	DrawPills[[ 
([[ 
)[[ 
;[[ 
}]] 	
public__ 
void__ 

MatrizGame__ 
(__ 
)__  
{__! "
using`` 
(`` 
StreamReader`` 
sr``  "
=``# $
new``% (
StreamReader``) 5
(``5 6
parentDirectory``6 E
+``F G
$str``H \
)``\ ]
)``] ^
{``_ `
forbb 
(bb 
intbb 
ibb 
=bb 
$numbb 
;bb 
ibb  !
<=bb" $
$numbb% '
;bb' (
ibb) *
++bb* ,
)bb, -
{bb. /
forcc 
(cc 
intcc 
jcc 
=cc  
$numcc! "
;cc" #
jcc$ %
<=cc& (
$numcc) +
;cc+ ,
jcc- .
++cc. 0
)cc0 1
{cc2 3
intdd 
caracterdd $
=dd% &
srdd' )
.dd) *
Readdd* .
(dd. /
)dd/ 0
;dd0 1
ifff 
(ff 
caracterff $
!=ff% '
-ff( )
$numff) *
)ff* +
{ff, -
ifhh 
(hh  
caracterhh  (
==hh) +
$numhh, .
)hh. /
{hh0 1
gameMapii  '
[ii' (
iii( )
,ii) *
jii+ ,
]ii, -
=ii. /
$numii0 1
;ii1 2
}jj 
ifll 
(ll  
caracterll  (
==ll) +
$numll, .
)ll. /
{ll0 1
gameMapmm  '
[mm' (
imm( )
,mm) *
jmm+ ,
]mm, -
=mm. /
$nummm0 1
;mm1 2
}nn 
ifpp 
(pp  
caracterpp  (
==pp) +
$numpp, .
)pp. /
{pp0 1
gameMapqq  '
[qq' (
iqq( )
,qq) *
jqq+ ,
]qq, -
=qq. /
$numqq0 1
;qq1 2
}rr 
iftt 
(tt  
caractertt  (
==tt) +
$numtt, .
)tt. /
{tt0 1
gameMapuu  '
[uu' (
iuu( )
,uu) *
juu+ ,
]uu, -
=uu. /
$numuu0 1
;uu1 2
}vv 
ifxx 
(xx  
caracterxx  (
==xx) +
$numxx, .
)xx. /
{xx0 1
gameMapyy  '
[yy' (
iyy( )
,yy) *
jyy+ ,
]yy, -
=yy. /
$numyy0 1
;yy1 2
}zz 
if|| 
(||  
caracter||  (
==||) +
$num||, .
)||. /
{||0 1
gameMap}}  '
[}}' (
i}}( )
,}}) *
j}}+ ,
]}}, -
=}}. /
$num}}0 1
;}}1 2
}~~ 
if 
(  
caracter  (
==) +
$num, .
). /
{0 1
gameMap
ÄÄ  '
[
ÄÄ' (
i
ÄÄ( )
,
ÄÄ) *
j
ÄÄ+ ,
]
ÄÄ, -
=
ÄÄ. /
$num
ÄÄ0 1
;
ÄÄ1 2
}
ÅÅ 
}
ÇÇ 
}
ÑÑ 
Console
ÖÖ 
.
ÖÖ 
	WriteLine
ÖÖ %
(
ÖÖ% &
)
ÖÖ& '
;
ÖÖ' (
}
ÜÜ 
}
àà 
}
ää 	
public
åå 
void
åå 
	DrawPills
åå 
(
åå 
)
åå 
{
åå  !
BitmapImage
çç 
bmp1
çç 
=
çç 
new
çç "
BitmapImage
çç# .
(
çç. /
)
çç/ 0
;
çç0 1
bmp1
éé 
.
éé 
	BeginInit
éé 
(
éé 
)
éé 
;
éé 
bmp1
èè 
.
èè 
	UriSource
èè 
=
èè 
new
èè  
Uri
èè! $
(
èè$ %
parentDirectory
èè% 4
+
èè5 6
$str
èè7 P
)
èèP Q
;
èèQ R
bmp1
êê 
.
êê 
EndInit
êê 
(
êê 
)
êê 
;
êê 
pill0
íí 
.
íí 
Source
íí 
=
íí 
bmp1
íí 
;
íí  
pill1
ìì 
.
ìì 
Source
ìì 
=
ìì 
bmp1
ìì 
;
ìì  
pill2
îî 
.
îî 
Source
îî 
=
îî 
bmp1
îî 
;
îî  
pill3
ïï 
.
ïï 
Source
ïï 
=
ïï 
bmp1
ïï 
;
ïï  
pill4
ññ 
.
ññ 
Source
ññ 
=
ññ 
bmp1
ññ 
;
ññ  
pill5
óó 
.
óó 
Source
óó 
=
óó 
bmp1
óó 
;
óó  
pill6
òò 
.
òò 
Source
òò 
=
òò 
bmp1
òò 
;
òò  
pill7
ôô 
.
ôô 
Source
ôô 
=
ôô 
bmp1
ôô 
;
ôô  
pill8
öö 
.
öö 
Source
öö 
=
öö 
bmp1
öö 
;
öö  
pill9
õõ 
.
õõ 
Source
õõ 
=
õõ 
bmp1
õõ 
;
õõ  
pill10
úú 
.
úú 
Source
úú 
=
úú 
bmp1
úú  
;
úú  !
pill11
ùù 
.
ùù 
Source
ùù 
=
ùù 
bmp1
ùù  
;
ùù  !
	panel_5_2
üü 
.
üü 
Children
üü 
.
üü 
Add
üü "
(
üü" #
pill0
üü# (
)
üü( )
;
üü) *
panel_11_18
†† 
.
†† 
Children
††  
.
††  !
Add
††! $
(
††$ %
pill1
††% *
)
††* +
;
††+ ,

panel_11_5
°° 
.
°° 
Children
°° 
.
°°  
Add
°°  #
(
°°# $
pill2
°°$ )
)
°°) *
;
°°* +
panel_12_12
¢¢ 
.
¢¢ 
Children
¢¢  
.
¢¢  !
Add
¢¢! $
(
¢¢$ %
pill3
¢¢% *
)
¢¢* +
;
¢¢+ ,
panel_13_12
££ 
.
££ 
Children
££  
.
££  !
Add
££! $
(
££$ %
pill4
££% *
)
££* +
;
££+ ,
panel_21_12
§§ 
.
§§ 
Children
§§  
.
§§  !
Add
§§! $
(
§§$ %
pill5
§§% *
)
§§* +
;
§§+ ,
	panel_7_7
•• 
.
•• 
Children
•• 
.
•• 
Add
•• "
(
••" #
pill6
••# (
)
••( )
;
••) *
	panel_9_9
¶¶ 
.
¶¶ 
Children
¶¶ 
.
¶¶ 
Add
¶¶ "
(
¶¶" #
pill7
¶¶# (
)
¶¶( )
;
¶¶) *
panel_15_22
ßß 
.
ßß 
Children
ßß  
.
ßß  !
Add
ßß! $
(
ßß$ %
pill8
ßß% *
)
ßß* +
;
ßß+ ,

panel_16_1
®® 
.
®® 
Children
®® 
.
®®  
Add
®®  #
(
®®# $
pill9
®®$ )
)
®®) *
;
®®* +

panel_4_10
©© 
.
©© 
Children
©© 
.
©©  
Add
©©  #
(
©©# $
pill10
©©$ *
)
©©* +
;
©©+ ,

panel_2_13
™™ 
.
™™ 
Children
™™ 
.
™™  
Add
™™  #
(
™™# $
pill11
™™$ *
)
™™* +
;
™™+ ,
}
´´ 	
public
ÆÆ 
bool
ÆÆ 
canMove
ÆÆ 
(
ÆÆ 
int
ÆÆ 
onX
ÆÆ  #
,
ÆÆ# $
int
ÆÆ% (
onY
ÆÆ) ,
)
ÆÆ, -
{
ÆÆ. /
bool
∞∞ 
can
∞∞ 
=
∞∞ 
true
∞∞ 
;
∞∞ 
if
±± 
(
±± 
gameMap
±± 
[
±± 
onX
±± 
,
±± 
onY
±±  
]
±±  !
==
±±" $
$num
±±% &
)
±±& '
{
±±( )
can
≤≤ 
=
≤≤ 
false
≤≤ 
;
≤≤ 
}
≥≥ 
return
µµ 
can
µµ 
;
µµ 
}
∑∑ 	
public
ππ 
void
ππ 

StopLisman
ππ 
(
ππ 
)
ππ  
{
ππ! "
runLeft
∫∫ 
.
∫∫ 
Stop
∫∫ 
(
∫∫ 
)
∫∫ 
;
∫∫ 
runUp
ªª 
.
ªª 
Stop
ªª 
(
ªª 
)
ªª 
;
ªª 
runRight
ºº 
.
ºº 
Stop
ºº 
(
ºº 
)
ºº 
;
ºº 
runDown
ΩΩ 
.
ΩΩ 
Stop
ΩΩ 
(
ΩΩ 
)
ΩΩ 
;
ΩΩ 
}
ææ 	
private
¿¿ 
void
¿¿ 
Button_Click
¿¿ !
(
¿¿! "
object
¿¿" (
sender
¿¿) /
,
¿¿/ 0
RoutedEventArgs
¿¿1 @
e
¿¿A B
)
¿¿B C
{
¿¿D E

StopLisman
¡¡ 
(
¡¡ 
)
¡¡ 
;
¡¡ 
runRight
¬¬ 
.
¬¬ 
Start
¬¬ 
(
¬¬ 
)
¬¬ 
;
¬¬ 
}
√√ 	
private
≈≈ 
void
≈≈ 
RunLeft
≈≈ 
(
≈≈ 
object
≈≈ #
sender
≈≈$ *
,
≈≈* +
	EventArgs
≈≈, 5
e
≈≈6 7
)
≈≈7 8
{
≈≈9 :
if
∆∆ 
(
∆∆ 
X
∆∆ 
==
∆∆ 
$num
∆∆ 
&&
∆∆ 
Y
∆∆ 
==
∆∆ 
$num
∆∆ !
)
∆∆! "
{
∆∆# $
X
«« 
=
«« 
$num
«« 
;
«« 
Y
»» 
=
»» 
$num
»» 
;
»» 
MoveLismanInMap
ÀÀ 
(
ÀÀ  
$num
ÀÀ  !
,
ÀÀ! "
$num
ÀÀ# $
,
ÀÀ$ %
X
ÀÀ& '
,
ÀÀ' (
Y
ÀÀ) *
)
ÀÀ* +
;
ÀÀ+ ,
return
ÃÃ 
;
ÃÃ 
}
ÕÕ 
if
ŒŒ 
(
ŒŒ 
canMove
ŒŒ 
(
ŒŒ 
X
ŒŒ 
-
ŒŒ 
$num
ŒŒ 
,
ŒŒ 
Y
ŒŒ  
)
ŒŒ  !
)
ŒŒ! "
{
ŒŒ# $
if
œœ 
(
œœ 
X
œœ 
>
œœ 
$num
œœ 
)
œœ 
{
œœ 
X
–– 
-=
–– 
$num
–– 
;
–– 
MoveLismanInMap
‘‘ #
(
‘‘# $
$num
‘‘$ %
,
‘‘% &
$num
‘‘' (
,
‘‘( )
X
‘‘* +
,
‘‘+ ,
Y
‘‘- .
)
‘‘. /
;
‘‘/ 0
}
’’ 
}
÷÷ 
else
÷÷ 
{
÷÷ 

StopLisman
◊◊ 
(
◊◊ 
)
◊◊ 
;
◊◊ 
}
ÿÿ 
}
€€ 	
private
›› 
void
›› 
RunUp
›› 
(
›› 
object
›› !
sender
››" (
,
››( )
	EventArgs
››* 3
e
››4 5
)
››5 6
{
››7 8
if
ﬂﬂ 
(
ﬂﬂ 
canMove
ﬂﬂ 
(
ﬂﬂ 
X
ﬂﬂ 
,
ﬂﬂ 
Y
ﬂﬂ 
-
ﬂﬂ 
$num
ﬂﬂ  
)
ﬂﬂ  !
)
ﬂﬂ! "
{
ﬂﬂ# $
Y
‡‡ 
-=
‡‡ 
$num
‡‡ 
;
‡‡ 
MoveLismanInMap
„„ 
(
„„  
$num
„„  !
,
„„! "
$num
„„# $
,
„„$ %
X
„„& '
,
„„' (
Y
„„) *
)
„„* +
;
„„+ ,
}
‰‰ 
else
‰‰ 
{
‰‰ 

StopLisman
ÂÂ 
(
ÂÂ 
)
ÂÂ 
;
ÂÂ 
}
ÊÊ 
}
ÈÈ 	
private
ÎÎ 
void
ÎÎ 
RunRight
ÎÎ 
(
ÎÎ 
object
ÎÎ $
sender
ÎÎ% +
,
ÎÎ+ ,
	EventArgs
ÎÎ- 6
e
ÎÎ7 8
)
ÎÎ8 9
{
ÎÎ: ;
if
ÏÏ 
(
ÏÏ 
X
ÏÏ 
==
ÏÏ 
$num
ÏÏ 
&&
ÏÏ 
Y
ÏÏ 
==
ÏÏ 
$num
ÏÏ  "
)
ÏÏ" #
{
ÏÏ$ %
X
ÌÌ 
=
ÌÌ 
$num
ÌÌ 
;
ÌÌ 
Y
ÓÓ 
=
ÓÓ 
$num
ÓÓ 
;
ÓÓ 
MoveLismanInMap
ÒÒ 
(
ÒÒ  
$num
ÒÒ  !
,
ÒÒ! "
$num
ÒÒ# $
,
ÒÒ$ %
X
ÒÒ& '
,
ÒÒ' (
Y
ÒÒ) *
)
ÒÒ* +
;
ÒÒ+ ,
return
ÚÚ 
;
ÚÚ 
}
ÛÛ 
if
ÙÙ 
(
ÙÙ 
canMove
ÙÙ 
(
ÙÙ 
X
ÙÙ 
+
ÙÙ 
$num
ÙÙ 
,
ÙÙ 
Y
ÙÙ  
)
ÙÙ  !
)
ÙÙ! "
{
ÙÙ# $
X
ıı 
+=
ıı 
$num
ıı 
;
ıı 
MoveLismanInMap
¯¯ 
(
¯¯  
$num
¯¯  !
,
¯¯! "
$num
¯¯# $
,
¯¯$ %
X
¯¯& '
,
¯¯' (
Y
¯¯) *
)
¯¯* +
;
¯¯+ ,
}
˘˘ 
else
˘˘ 
{
˘˘ 

StopLisman
˙˙ 
(
˙˙ 
)
˙˙ 
;
˙˙ 
}
˚˚ 
}
˛˛ 	
private
ÄÄ 
void
ÄÄ 
RunDown
ÄÄ 
(
ÄÄ 
object
ÄÄ #
sender
ÄÄ$ *
,
ÄÄ* +
	EventArgs
ÄÄ, 5
e
ÄÄ6 7
)
ÄÄ7 8
{
ÄÄ9 :
if
ÅÅ 
(
ÅÅ 
canMove
ÅÅ 
(
ÅÅ 
X
ÅÅ 
,
ÅÅ 
Y
ÅÅ 
+
ÅÅ 
$num
ÅÅ  
)
ÅÅ  !
)
ÅÅ! "
{
ÅÅ# $
Y
ÇÇ 
+=
ÇÇ 
$num
ÇÇ 
;
ÇÇ 
MoveLismanInMap
ÖÖ 
(
ÖÖ  
$num
ÖÖ  !
,
ÖÖ! "
$num
ÖÖ" #
,
ÖÖ# $
X
ÖÖ$ %
,
ÖÖ% &
Y
ÖÖ& '
)
ÖÖ' (
;
ÖÖ( )
}
ÜÜ 
else
ÜÜ 
{
ÜÜ 

StopLisman
áá 
(
áá 
)
áá 
;
áá 
}
àà 
}
ââ 	
public
åå 
void
åå 
MoveLismanInMap
åå #
(
åå# $
int
åå$ '
initialPositionX
åå( 8
,
åå8 9
int
åå: =
initialPositionY
åå> N
,
ååN O
int
ååP S
finalPositionX
ååT b
,
ååb c
int
ååd g
finalPositionY
ååh v
)
ååv w
{
çç 	
client
éé 
.
éé 

MoveLisman
éé 
(
éé 
this
éé "
.
éé" #
idgame
éé# )
,
éé) *
SingletonAccount
éé+ ;
.
éé; <!
getSingletonAccount
éé< O
(
ééO P
)
ééP Q
.
ééQ R
User
ééR V
,
ééV W
initialPositionX
ééX h
,
ééh i
initialPositionY
ééj z
,
ééz {
finalPositionXéé| ä
,ééä ã
finalPositionYééå ö
)ééö õ
;ééõ ú
}
êê 	
private
íí 
void
íí 
Matriz_KeyDown
íí #
(
íí# $
object
íí$ *
sender
íí+ 1
,
íí1 2
KeyEventArgs
íí3 ?
e
íí@ A
)
ííA B
{
ííC D
if
ìì 
(
ìì 
e
ìì 
.
ìì 
Key
ìì 
==
ìì 
Key
ìì 
.
ìì 
Left
ìì !
)
ìì! "
{
ìì# $
runUp
îî 
.
îî 
Stop
îî 
(
îî 
)
îî 
;
îî 
runRight
ïï 
.
ïï 
Stop
ïï 
(
ïï 
)
ïï 
;
ïï  
runDown
ññ 
.
ññ 
Stop
ññ 
(
ññ 
)
ññ 
;
ññ 
runLeft
óó 
.
óó 
Start
óó 
(
óó 
)
óó 
;
óó  
}
òò 
if
ôô 
(
ôô 
e
ôô 
.
ôô 
Key
ôô 
==
ôô 
Key
ôô 
.
ôô 
Up
ôô 
)
ôô  
{
ôô! "
runLeft
öö 
.
öö 
Stop
öö 
(
öö 
)
öö 
;
öö 
runRight
úú 
.
úú 
Stop
úú 
(
úú 
)
úú 
;
úú  
runDown
ùù 
.
ùù 
Stop
ùù 
(
ùù 
)
ùù 
;
ùù 
runUp
ûû 
.
ûû 
Start
ûû 
(
ûû 
)
ûû 
;
ûû 
}
üü 
if
†† 
(
†† 
e
†† 
.
†† 
Key
†† 
==
†† 
Key
†† 
.
†† 
Right
†† "
)
††" #
{
††$ %
runLeft
°° 
.
°° 
Stop
°° 
(
°° 
)
°° 
;
°° 
runUp
¢¢ 
.
¢¢ 
Stop
¢¢ 
(
¢¢ 
)
¢¢ 
;
¢¢ 
runDown
§§ 
.
§§ 
Stop
§§ 
(
§§ 
)
§§ 
;
§§ 
runRight
•• 
.
•• 
Start
•• 
(
•• 
)
••  
;
••  !
}
¶¶ 
if
ßß 
(
ßß 
e
ßß 
.
ßß 
Key
ßß 
==
ßß 
Key
ßß 
.
ßß 
Down
ßß !
)
ßß! "
{
ßß# $
runLeft
®® 
.
®® 
Stop
®® 
(
®® 
)
®® 
;
®® 
runUp
©© 
.
©© 
Stop
©© 
(
©© 
)
©© 
;
©© 
runRight
™™ 
.
™™ 
Stop
™™ 
(
™™ 
)
™™ 
;
™™  
runDown
¨¨ 
.
¨¨ 
Start
¨¨ 
(
¨¨ 
)
¨¨ 
;
¨¨  
}
≠≠ 
}
ÆÆ 	
public
∞∞ 
void
∞∞ 
NotifyColorPlayer
∞∞ %
(
∞∞% &
int
∞∞& )
colorPlayer
∞∞* 5
,
∞∞5 6
String
∞∞7 =
user
∞∞> B
)
∞∞B C
{
±± 	
switch
≤≤ 
(
≤≤ 
colorPlayer
≤≤ 
)
≤≤  
{
≥≥ 
case
¥¥ 
LISMANYELLOW
¥¥ !
:
¥¥! "
lismanPlayerImage
µµ %
=
µµ& '
LismanYellowImage
µµ( 9
;
µµ9 :
X
∂∂ 
=
∂∂ 
$num
∂∂ 
;
∂∂ 
Y
∑∑ 
=
∑∑ 
$num
∑∑ 
;
∑∑ 
UserLismanYellow
∏∏ $
.
∏∏$ %
Text
∏∏% )
=
∏∏* +
user
∏∏, 0
;
∏∏0 1
break
ππ 
;
ππ 
case
∫∫ 
	LISMANRED
∫∫ 
:
∫∫ 
lismanPlayerImage
ªª %
=
ªª& '
LismanRedImage
ªª( 6
;
ªª6 7
X
ºº 
=
ºº 
$num
ºº 
;
ºº 
Y
ΩΩ 
=
ΩΩ 
$num
ΩΩ 
;
ΩΩ 
UserLismanRed
ææ !
.
ææ! "
Text
ææ" &
=
ææ' (
user
ææ) -
;
ææ- .
break
øø 
;
øø 
case
¿¿ 

LISMANBLUE
¿¿ 
:
¿¿  
lismanPlayerImage
¡¡ %
=
¡¡& '"
LismanTurquoiseImage
¡¡( <
;
¡¡< =
X
¬¬ 
=
¬¬ 
$num
¬¬ 
;
¬¬ 
Y
√√ 
=
√√ 
$num
√√ 
;
√√ 
UserLismanBlue
ƒƒ "
.
ƒƒ" #
Text
ƒƒ# '
=
ƒƒ( )
user
ƒƒ* .
;
ƒƒ. /
break
≈≈ 
;
≈≈ 
case
∆∆ 
LISMANGREEN
∆∆  
:
∆∆  !
lismanPlayerImage
«« %
=
««& '
LismanGreenImage
««( 8
;
««8 9
X
»» 
=
»» 
$num
»» 
;
»» 
Y
…… 
=
…… 
$num
…… 
;
…… 
UserLismanGreen
   #
.
  # $
Text
  $ (
=
  ) *
user
  + /
;
  / 0
break
ÀÀ 
;
ÀÀ 
}
ÃÃ 
}
ÕÕ 	
public
œœ 
void
œœ 
NotifyLismanMoved
œœ %
(
œœ% &
int
œœ& )
colorPlayer
œœ* 5
,
œœ5 6
int
œœ7 :
	positionX
œœ; D
,
œœD E
int
œœF I
	positionY
œœJ S
)
œœS T
{
–– 	
Image
—— 
lismanImageMoved
—— "
=
——# $
null
——% )
;
——) *
switch
““ 
(
““ 
colorPlayer
““ 
)
““  
{
”” 
case
‘‘ 
LISMANYELLOW
‘‘ !
:
‘‘! "
lismanImageMoved
’’ $
=
’’% &
LismanYellowImage
’’' 8
;
’’8 9
break
÷÷ 
;
÷÷ 
case
◊◊ 
	LISMANRED
◊◊ 
:
◊◊ 
lismanImageMoved
ÿÿ $
=
ÿÿ% &
LismanRedImage
ÿÿ' 5
;
ÿÿ5 6
break
ŸŸ 
;
ŸŸ 
case
⁄⁄ 

LISMANBLUE
⁄⁄ 
:
⁄⁄  
lismanImageMoved
€€ $
=
€€% &"
LismanTurquoiseImage
€€' ;
;
€€; <
break
‹‹ 
;
‹‹ 
case
›› 
LISMANGREEN
››  
:
››  !
lismanImageMoved
ﬁﬁ $
=
ﬁﬁ% &
LismanGreenImage
ﬁﬁ' 7
;
ﬁﬁ7 8
break
ﬂﬂ 
;
ﬂﬂ 
}
‡‡ 
Grid
·· 
.
·· 
	SetColumn
·· 
(
·· 
lismanImageMoved
·· +
,
··+ ,
	positionX
··- 6
)
··6 7
;
··7 8
Grid
‚‚ 
.
‚‚ 
SetRow
‚‚ 
(
‚‚ 
lismanImageMoved
‚‚ (
,
‚‚( )
	positionY
‚‚* 3
)
‚‚3 4
;
‚‚4 5
}
„„ 	
public
ÂÂ 
void
ÂÂ %
PrintInformationPlayers
ÂÂ +
(
ÂÂ+ ,

Dictionary
ÂÂ, 6
<
ÂÂ6 7
string
ÂÂ7 =
,
ÂÂ= >
InformationPlayer
ÂÂ? P
>
ÂÂP Q
listPlayers
ÂÂR ]
)
ÂÂ] ^
{
ÊÊ 	
foreach
ÁÁ 
(
ÁÁ 
KeyValuePair
ÁÁ !
<
ÁÁ! "
String
ÁÁ" (
,
ÁÁ( )
InformationPlayer
ÁÁ* ;
>
ÁÁ; <
player
ÁÁ= C
in
ÁÁD F
listPlayers
ÁÁG R
)
ÁÁR S
{
ËË 
int
ÈÈ 
colorPlayer
ÈÈ 
=
ÈÈ  !
player
ÈÈ" (
.
ÈÈ( )
Value
ÈÈ) .
.
ÈÈ. /
colorLisman
ÈÈ/ :
;
ÈÈ: ;
switch
ÍÍ 
(
ÍÍ 
colorPlayer
ÍÍ #
)
ÍÍ# $
{
ÎÎ 
case
ÏÏ 
LISMANYELLOW
ÏÏ %
:
ÏÏ% &
UserLismanYellow
ÌÌ (
.
ÌÌ( )
Text
ÌÌ) -
=
ÌÌ. /
player
ÌÌ/ 5
.
ÌÌ5 6
Key
ÌÌ6 9
;
ÌÌ9 :#
UserLismanYellowLifes
ÓÓ -
.
ÓÓ- .
Text
ÓÓ. 2
=
ÓÓ3 4
player
ÓÓ5 ;
.
ÓÓ; <
Value
ÓÓ< A
.
ÓÓA B
lifesLisman
ÓÓB M
.
ÓÓM N
ToString
ÓÓN V
(
ÓÓV W
)
ÓÓW X
;
ÓÓX Y#
UserLismanYellowScore
ÔÔ -
.
ÔÔ- .
Text
ÔÔ. 2
=
ÔÔ3 4
player
ÔÔ5 ;
.
ÔÔ; <
Value
ÔÔ< A
.
ÔÔA B
scoreLisman
ÔÔB M
.
ÔÔM N
ToString
ÔÔN V
(
ÔÔV W
)
ÔÔW X
;
ÔÔX Y
break
 
;
 
case
ÒÒ 
	LISMANRED
ÒÒ "
:
ÒÒ" #
UserLismanRed
ÚÚ %
.
ÚÚ% &
Text
ÚÚ& *
=
ÚÚ+ ,
player
ÚÚ- 3
.
ÚÚ3 4
Key
ÚÚ4 7
;
ÚÚ7 8 
UserLismanRedLifes
ÛÛ *
.
ÛÛ* +
Text
ÛÛ+ /
=
ÛÛ0 1
player
ÛÛ2 8
.
ÛÛ8 9
Value
ÛÛ9 >
.
ÛÛ> ?
lifesLisman
ÛÛ? J
.
ÛÛJ K
ToString
ÛÛK S
(
ÛÛS T
)
ÛÛT U
;
ÛÛU V 
UserLismanRedScore
ÙÙ *
.
ÙÙ* +
Text
ÙÙ+ /
=
ÙÙ0 1
player
ÙÙ2 8
.
ÙÙ8 9
Value
ÙÙ9 >
.
ÙÙ> ?
scoreLisman
ÙÙ? J
.
ÙÙJ K
ToString
ÙÙK S
(
ÙÙS T
)
ÙÙT U
;
ÙÙU V
break
ıı 
;
ıı 
case
ˆˆ 

LISMANBLUE
ˆˆ #
:
ˆˆ# $
UserLismanBlue
˜˜ &
.
˜˜& '
Text
˜˜' +
=
˜˜, -
player
˜˜. 4
.
˜˜4 5
Key
˜˜5 8
;
˜˜8 9!
UserLismanBlueLifes
¯¯ +
.
¯¯+ ,
Text
¯¯, 0
=
¯¯1 2
player
¯¯3 9
.
¯¯9 :
Value
¯¯: ?
.
¯¯? @
lifesLisman
¯¯@ K
.
¯¯K L
ToString
¯¯L T
(
¯¯T U
)
¯¯U V
;
¯¯V W!
UserLismanBlueScore
˘˘ +
.
˘˘+ ,
Text
˘˘, 0
=
˘˘1 2
player
˘˘3 9
.
˘˘9 :
Value
˘˘: ?
.
˘˘? @
scoreLisman
˘˘@ K
.
˘˘K L
ToString
˘˘L T
(
˘˘T U
)
˘˘U V
;
˘˘V W
break
˙˙ 
;
˙˙ 
case
˚˚ 
LISMANGREEN
˚˚ $
:
˚˚$ %
UserLismanGreen
¸¸ '
.
¸¸' (
Text
¸¸( ,
=
¸¸- .
player
¸¸/ 5
.
¸¸5 6
Key
¸¸6 9
;
¸¸9 :"
UserLismanGreenLifes
˝˝ ,
.
˝˝, -
Text
˝˝- 1
=
˝˝2 3
player
˝˝4 :
.
˝˝: ;
Value
˝˝; @
.
˝˝@ A
lifesLisman
˝˝A L
.
˝˝L M
ToString
˝˝M U
(
˝˝U V
)
˝˝V W
;
˝˝W X"
UserLismanGreenScore
˛˛ ,
.
˛˛, -
Text
˛˛- 1
=
˛˛2 3
player
˛˛4 :
.
˛˛: ;
Value
˛˛; @
.
˛˛@ A
scoreLisman
˛˛A L
.
˛˛L M
ToString
˛˛M U
(
˛˛U V
)
˛˛V W
;
˛˛W X
break
ˇˇ 
;
ˇˇ 
}
ÄÄ 
}
ÅÅ 
}
ÇÇ 	
}
ÉÉ 
}ÑÑ í
íC:\Users\Vik-t\Documents\Software Engineering\5to Semestre\Tecnolog√≠as para la Construcci√≥n\Proyecto\LISMAN\Lisman\Lisman\PositionsTable.xaml.cs
	namespace 	
Lisman
 
{ 
public 

partial 
class 
PositionsTable '
:( )
Window* 0
{1 2
public 
PositionsTable 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
	LoadTable 
( 
) 
; 
} 	
private 
void  
Button_Click_go_back )
() *
object* 0
sender1 7
,7 8
RoutedEventArgs9 H
eI J
)J K
{ 	
MainMenu 
menu 
= 
new 
MainMenu  (
(( )
)) *
;* +
menu 
. 
Show 
( 
) 
; 
this 
. 
Close 
( 
) 
; 
} 	
public!! 
void!! 
	LoadTable!! 
(!! 
)!! 
{"" 	
using## 
(## 
var## 
client## 
=## 
new##  #
LismanService##$ 1
.##1 2 
AccountManagerClient##2 F
(##F G
)##G H
)##H I
{##J K
try$$ 
{$$ 
var%% 
listRecords%% #
=%%$ %
client%%& ,
.%%, -

GetRecords%%- 7
(%%7 8
)%%8 9
;%%9 :
table_positions&& #
.&&# $
ItemsSource&&$ /
=&&0 1
listRecords&&2 =
;&&= >
}'' 
catch'' 
('' 
	Exception'' "
ex''# %
)''% &
{''' (
Logger(( 
.(( 
log(( 
.(( 
Error(( $
((($ %
$str((% ;
+((; <
ex((= ?
)((? @
;((@ A
})) 
}** 
}++ 	
}.. 
}// Ï
èC:\Users\Vik-t\Documents\Software Engineering\5to Semestre\Tecnolog√≠as para la Construcci√≥n\Proyecto\LISMAN\Lisman\Lisman\SingletonAccount.cs
	namespace 	
Lisman
 
{ 
class 	
SingletonAccount
 
{ 
private		 
static		 
LismanService		 $
.		$ %
Account		% ,
account		- 4
=		5 6
null		7 ;
;		; <
private 
SingletonAccount  
(  !
)! "
{# $
} 	
public 
static 
void 
setSingletonAccount .
(. /
LismanService/ <
.< =
Account= D
accountReceivedE T
)T U
{V W
if 
( 
account 
== 
null 
)  
{! "
account 
= 
accountReceived (
;( )
} 
} 	
public 
static 
LismanService #
.# $
Account$ +
getSingletonAccount, ?
(? @
)@ A
{B C
if 
( 
account 
!= 
null 
)  
{! "
return 
account 
; 
} 
else 
{ 
return 
null 
; 
} 
} 	
} 
}   °ñ
êC:\Users\Vik-t\Documents\Software Engineering\5to Semestre\Tecnolog√≠as para la Construcci√≥n\Proyecto\LISMAN\Lisman\Lisman\UserRegister.xaml.cs
	namespace 	
Lisman
 
{ 
public 

partial 
class 
UserRegister %
:& '
Window( .
{/ 0
public 
UserRegister 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
private 
void 
Button_Click_Cancel (
(( )
object) /
sender0 6
,6 7
RoutedEventArgs8 G
eH I
)I J
{ 	

MainWindow 
login 
= 
new "

MainWindow# -
(- .
). /
;/ 0
login 
. 
Show 
( 
) 
; 
this   
.   
Close   
(   
)   
;   
}!! 	
private## 
void## 
	SendEmail## 
(## 
String## %
destinationEmail##& 6
,##6 7
String##7 =
token##> C
)##C D
{##D E
String$$ 
originEmail$$ 
=$$  
$str$$! 6
;$$6 7
String%% 
passwordEmail%%  
=%%! "
$str%%# 1
;%%1 2
String&& 
subjectEmail&& 
=&&  !

Properties&&" ,
.&&, -
	Resources&&- 6
.&&6 7
subject_email&&7 D
;&&D E
String'' 
	bodyEmail'' 
='' 

Properties'' )
.'') *
	Resources''* 3
.''3 4

body_email''4 >
;''> ?
String(( 
url(( 
=(( 
$str(( P
+((Q R
token((S X
;((X Y
MailMessage,, 
mailMessage,, #
=,,$ %
new,,& )
MailMessage,,* 5
(,,5 6
originEmail,,6 A
,,,A B
destinationEmail,,B R
,,,R S
subjectEmail,,S _
,,,_ `
	bodyEmail,,` i
+,,j k
$str,,l r
+,,s t
url,,u x
),,x y
;,,y z
mailMessage-- 
.-- 

IsBodyHtml-- "
=--# $
true--% )
;--) *

SmtpClient// 

smtpClient// !
=//" #
new//$ '

SmtpClient//( 2
(//2 3
$str//3 C
)//C D
;//D E

smtpClient00 
.00 
	EnableSsl00  
=00! "
true00# '
;00' (

smtpClient11 
.11 !
UseDefaultCredentials11 ,
=11- .
false11/ 4
;114 5

smtpClient22 
.22 
Port22 
=22 
$num22 !
;22! "

smtpClient33 
.33 
Credentials33 "
=33# $
new33% (
System33) /
.33/ 0
Net330 3
.333 4
NetworkCredential334 E
(33E F
originEmail33F Q
,33Q R
passwordEmail33R _
)33_ `
;33` a

smtpClient55 
.55 
Send55 
(55 
mailMessage55 '
)55' (
;55( )

smtpClient66 
.66 
Dispose66 
(66 
)66  
;66  !
}:: 	
public<< 
void<< 
SaveData<< 
(<< 
)<< 
{<<  
if== 
(== 
validateEmptyFields== #
(==# $
)==$ %
&&==& (
ValidateData==) 5
(==5 6
)==6 7
)==7 8
{==9 :
try>> 
{>> 
using?? 
(?? 
var?? 
client?? %
=??& '
new??( +
LismanService??, 9
.??9 : 
AccountManagerClient??: N
(??N O
)??O P
)??P Q
{??R S
String@@ 
token@@ $
=@@% &
EncodePassword@@' 5
(@@5 6
Guid@@6 :
.@@: ;
NewGuid@@; B
(@@B C
)@@C D
.@@D E
ToString@@E M
(@@M N
)@@N O
)@@O P
;@@P Q
varAA 
accountSaveAA '
=AA( )
newAA* -
LismanServiceAA. ;
.AA; <
AccountAA< C
{AAD E
UserBB  
=BB! "
textField_userNameBB# 5
.BB5 6
TextBB6 :
,BB: ;
PasswordCC $
=CC% &
EncodePasswordCC' 5
(CC5 6 
passwordBox_passwordCC6 J
.CCJ K
PasswordCCK S
)CCS T
,CCT U
Registration_dateDD -
=DD. /
DateTimeDD0 8
.DD8 9
NowDD9 <
.DD< =
ToStringDD= E
(DDE F
)DDF G
,DDG H
Key_confirmationEE ,
=EE- .
tokenEE/ 4
,EE4 5
PlayerFF "
=FF# $
newFF% (
LismanServiceFF) 6
.FF6 7
PlayerFF7 =
{FF> ?

First_nameGG  *
=GG+ ,
textField_nameGG- ;
.GG; <
TextGG< @
,GG@ A
	Last_nameHH  )
=HH* +
textField_lastNameHH, >
.HH> ?
TextHH? C
,HHC D
EmailII  %
=II& '
textField_emailII( 7
.II7 8
TextII8 <
,II< =
}JJ 
}KK 
;KK 
ifLL 
(LL 
clientLL "
.LL" #

AddAccountLL# -
(LL- .
accountSaveLL. 9
)LL9 :
!=LL; =
-LL> ?
$numLL? @
)LL@ A
{LLB C
	SendEmailMM %
(MM% &
accountSaveMM& 1
.MM1 2
PlayerMM2 8
.MM8 9
EmailMM9 >
,MM> ?
tokenMM@ E
)MME F
;MMF G
varNN )
messageRegistrationSuccessfulNN  =
=NN> ?

PropertiesNN@ J
.NNJ K
	ResourcesNNK T
.NNT U+
message_registration_successfulNNU t
;NNt u

MessageBoxOO &
.OO& '
ShowOO' +
(OO+ ,)
messageRegistrationSuccessfulOO, I
)OOI J
;OOJ K

MainWindowPP &
loginPP' ,
=PP- .
newPP/ 2

MainWindowPP3 =
(PP= >
)PP> ?
;PP? @
loginQQ !
.QQ! "
ShowQQ" &
(QQ& '
)QQ' (
;QQ( )
thisRR  
.RR  !
CloseRR! &
(RR& '
)RR' (
;RR( )
}SS 
elseSS 
{SS  
varTT $
messageRegistrationErrorTT  8
=TT9 :

PropertiesTT; E
.TTE F
	ResourcesTTF O
.TTO P&
message_registration_errorTTP j
;TTj k

MessageBoxUU &
.UU& '
ShowUU' +
(UU+ ,$
messageRegistrationErrorUU, D
)UUD E
;UUE F
}VV 
}WW 
}XX 
catchXX 
(XX 
	ExceptionXX "
exXX# %
)XX% &
{XX' (
LoggerYY 
.YY 
logYY 
.YY 
ErrorYY $
(YY$ %
$strYY% :
+YY; <
exYY= ?
)YY? @
;YY@ A
}[[ 
}]] 
}^^ 	
private`` 
void`` 
button_save_Click`` &
(``& '
object``' -
sender``. 4
,``4 5
RoutedEventArgs``6 E
e``F G
)``G H
{aa 	
SaveDatabb 
(bb 
)bb 
;bb 
}cc 	
publicee 
voidee 
On_key_Down_Handleree '
(ee' (
objectee( .
senderee/ 5
,ee5 6
KeyEventArgsee7 C
inputKeyeeD L
)eeL M
{eeN O
ifff 
(ff 
inputKeyff 
.ff 
Keyff 
==ff 
Keyff  #
.ff# $
Returnff$ *
)ff* +
{ff, -
SaveDatagg 
(gg 
)gg 
;gg 
}hh 
}ii 	
publickk 
boolkk 
IsValidEmailkk  
(kk  !
stringkk! '
emailaddresskk( 4
)kk4 5
{kk6 7
Regexll 
expressionEmailll !
=ll" #
newll$ '
Regexll( -
(ll- .
$strll. K
)llK L
;llL M
returnmm 
expressionEmailmm "
.mm" #
IsMatchmm# *
(mm* +
emailaddressmm+ 7
)mm7 8
;mm8 9
}nn 	
publicpp 
boolpp 
ExistsEmailpp 
(pp  
Stringpp  &
emailAdresspp' 2
)pp2 3
{pp4 5
tryqq 
{qq 
usingrr 
(rr 
varrr 
clientrr !
=rr" #
newrr$ '
LismanServicerr( 5
.rr5 6
LoginManagerClientrr6 H
(rrH I
)rrI J
)rrJ K
{rrL M
returnss 
clientss !
.ss! "
EmailExistsss" -
(ss- .
emailAdressss. 9
)ss9 :
;ss: ;
}tt 
}uu 
catchuu 
(uu 
	Exceptionuu 
exuu !
)uu! "
{uu# $
Loggervv 
.vv 
logvv 
.vv 
Errorvv  
(vv  !
$strvv! 7
+vv8 9
exvv: <
)vv< =
;vv= >
returnww 
falseww 
;ww 
}xx 
}zz 	
public|| 
bool|| 
UserNameExists|| "
(||" #
String||# )
username||* 2
)||2 3
{||4 5
try}} 
{}} 
using~~ 
(~~ 
var~~ 
client~~ !
=~~" #
new~~$ '
LismanService~~( 5
.~~5 6
LoginManagerClient~~6 H
(~~H I
)~~I J
)~~J K
{~~L M
return 
client !
.! "
UserNameExists" 0
(0 1
username1 9
)9 :
;: ;
}
ÄÄ 
}
ÅÅ 
catch
ÅÅ 
(
ÅÅ 
	Exception
ÅÅ 
ex
ÅÅ !
)
ÅÅ! "
{
ÅÅ# $
Logger
ÇÇ 
.
ÇÇ 
log
ÇÇ 
.
ÇÇ 
Error
ÇÇ  
(
ÇÇ  !
$str
ÇÇ! <
+
ÇÇ= >
ex
ÇÇ? A
)
ÇÇA B
;
ÇÇB C
return
ÉÉ 
false
ÉÉ 
;
ÉÉ 
}
ÑÑ 
}
áá 	
public
ââ 
bool
ââ 
showErrorMessage
ââ $
(
ââ$ %
String
ââ% +
errorMessage
ââ, 8
)
ââ8 9
{
ââ: ;

MessageBox
ää 
.
ää 
Show
ää 
(
ää 
errorMessage
ää (
)
ää( )
;
ää) *
return
ãã 
false
ãã 
;
ãã 
}
åå 	
public
éé 
bool
éé !
validateEmptyFields
éé '
(
éé' (
)
éé( )
{
éé* +
if
èè 
(
èè 
textField_name
èè 
.
èè 
Text
èè #
==
èè$ &
string
èè' -
.
èè- .
Empty
èè. 3
)
èè3 4
{
èè5 6
return
êê 
showErrorMessage
êê '
(
êê' (

Properties
êê( 2
.
êê2 3
	Resources
êê3 <
.
êê< = 
message_error_name
êê= O
)
êêO P
;
êêP Q
}
ëë 
if
íí 
(
íí  
textField_lastName
íí "
.
íí" #
Text
íí# '
==
íí( *
string
íí+ 1
.
íí1 2
Empty
íí2 7
)
íí7 8
{
íí9 :
return
ìì 
showErrorMessage
ìì '
(
ìì' (

Properties
ìì( 2
.
ìì2 3
	Resources
ìì3 <
.
ìì< =$
message_error_lastname
ìì= S
)
ììS T
;
ììT U
}
îî 
if
ïï 
(
ïï 
textField_email
ïï 
.
ïï  
Text
ïï  $
==
ïï% '
string
ïï( .
.
ïï. /
Empty
ïï/ 4
)
ïï4 5
{
ïï6 7
return
ññ 
showErrorMessage
ññ '
(
ññ' (

Properties
ññ( 2
.
ññ2 3
	Resources
ññ3 <
.
ññ< =!
message_error_email
ññ= P
)
ññP Q
;
ññQ R
}
óó 
if
òò 
(
òò  
textField_userName
òò "
.
òò" #
Text
òò# '
==
òò( *
string
òò+ 1
.
òò1 2
Empty
òò2 7
)
òò7 8
{
òò9 :
return
ôô 
showErrorMessage
ôô '
(
ôô' (

Properties
ôô( 2
.
ôô2 3
	Resources
ôô3 <
.
ôô< =#
message_error_usename
ôô= R
)
ôôR S
;
ôôS T
}
öö 
if
õõ 
(
õõ "
passwordBox_password
õõ $
.
õõ$ %
Password
õõ% -
==
õõ. 0
string
õõ1 7
.
õõ7 8
Empty
õõ8 =
)
õõ= >
{
õõ? @
return
úú 
showErrorMessage
úú '
(
úú' (

Properties
úú( 2
.
úú2 3
	Resources
úú3 <
.
úú< =$
message_error_password
úú= S
)
úúS T
;
úúT U
}
ùù 
if
ûû 
(
ûû )
passwordBox_confirmPassword
ûû +
.
ûû+ ,
Password
ûû, 4
==
ûû5 7
string
ûû8 >
.
ûû> ?
Empty
ûû? D
)
ûûD E
{
ûûF G
return
üü 
showErrorMessage
üü '
(
üü' (

Properties
üü( 2
.
üü2 3
	Resources
üü3 <
.
üü< =1
#message_error_confirmation_password
üü= `
)
üü` a
;
üüa b
}
†† 
return
¢¢ 
true
¢¢ 
;
¢¢ 
}
££ 	
public
•• 
bool
•• 
ValidateData
••  
(
••  !
)
••! "
{
••# $
Regex
¶¶ 
rg
¶¶ 
=
¶¶ 
new
¶¶ 
Regex
¶¶  
(
¶¶  !
$str
¶¶! u
)
¶¶u v
;
¶¶v w
if
ßß 
(
ßß 
!
ßß 
rg
ßß 
.
ßß 
IsMatch
ßß 
(
ßß 
textField_name
ßß *
.
ßß* +
Text
ßß+ /
)
ßß/ 0
)
ßß0 1
{
ßß2 3
return
®® 
showErrorMessage
®® '
(
®®' (

Properties
®®( 2
.
®®2 3
	Resources
®®3 <
.
®®< ="
message_invalid_name
®®= Q
)
®®Q R
;
®®R S
}
©© 
if
™™ 
(
™™ 
!
™™ 
rg
™™ 
.
™™ 
IsMatch
™™ 
(
™™  
textField_lastName
™™ .
.
™™. /
Text
™™/ 3
)
™™3 4
)
™™4 5
{
™™6 7
return
´´ 
showErrorMessage
´´ &
(
´´& '

Properties
´´' 1
.
´´1 2
	Resources
´´2 ;
.
´´; <&
message_invalid_lastname
´´< T
)
´´T U
;
´´U V
}
¨¨ 
else
≠≠ 
if
≠≠ 
(
≠≠ 
!
≠≠ 
IsValidEmail
≠≠ "
(
≠≠" #
textField_email
≠≠# 2
.
≠≠2 3
Text
≠≠3 7
)
≠≠7 8
)
≠≠8 9
{
≠≠9 :
return
ÆÆ 
showErrorMessage
ÆÆ '
(
ÆÆ' (

Properties
ÆÆ( 2
.
ÆÆ2 3
	Resources
ÆÆ3 <
.
ÆÆ< =#
message_invalid_email
ÆÆ= R
)
ÆÆR S
;
ÆÆS T
}
ØØ 
else
ØØ 
if
ØØ 
(
ØØ 
ExistsEmail
ØØ "
(
ØØ" #
textField_email
ØØ# 2
.
ØØ2 3
Text
ØØ3 7
)
ØØ7 8
)
ØØ8 9
{
ØØ: ;
return
∞∞ 
showErrorMessage
∞∞ '
(
∞∞' (

Properties
∞∞( 2
.
∞∞2 3
	Resources
∞∞3 <
.
∞∞< ="
message_exists_email
∞∞= Q
)
∞∞Q R
;
∞∞R S
}
±± 
if
≤≤ 
(
≤≤ 
UserNameExists
≤≤ 
(
≤≤  
textField_userName
≤≤ 1
.
≤≤1 2
Text
≤≤2 6
)
≤≤6 7
)
≤≤7 8
{
≤≤9 :
return
≥≥ 
showErrorMessage
≥≥ (
(
≥≥( )

Properties
≥≥) 3
.
≥≥3 4
	Resources
≥≥4 =
.
≥≥= >%
message_exists_username
≥≥> U
)
≥≥U V
;
≥≥V W
}
¥¥ 
if
µµ 
(
µµ 
!
µµ "
passwordBox_password
µµ %
.
µµ% &
Password
µµ& .
.
µµ. /
Equals
µµ/ 5
(
µµ5 6)
passwordBox_confirmPassword
µµ6 Q
.
µµQ R
Password
µµR Z
)
µµZ [
)
µµ[ \
{
µµ\ ]
return
∂∂ 
showErrorMessage
∂∂ '
(
∂∂' (

Properties
∂∂( 2
.
∂∂2 3
	Resources
∂∂3 <
.
∂∂< =/
!message_error_passwords_different
∂∂= ^
)
∂∂^ _
;
∂∂_ `
}
∑∑ 
return
∏∏ 
true
∏∏ 
;
∏∏ 
}
ππ 	
public
ªª 
string
ªª 
EncodePassword
ªª $
(
ªª$ %
string
ªª% +
originalPassword
ªª, <
)
ªª< =
{
ºº 	
SHA256
ΩΩ 
sha256
ΩΩ 
=
ΩΩ 
SHA256Managed
ΩΩ )
.
ΩΩ) *
Create
ΩΩ* 0
(
ΩΩ0 1
)
ΩΩ1 2
;
ΩΩ2 3
ASCIIEncoding
ææ 
encoding
ææ "
=
ææ# $
new
ææ% (
ASCIIEncoding
ææ) 6
(
ææ6 7
)
ææ7 8
;
ææ8 9
byte
øø 
[
øø 
]
øø 
stream
øø 
=
øø 
null
øø  
;
øø  !
StringBuilder
¿¿ 
sb
¿¿ 
=
¿¿ 
new
¿¿ "
StringBuilder
¿¿# 0
(
¿¿0 1
)
¿¿1 2
;
¿¿2 3
stream
¡¡ 
=
¡¡ 
sha256
¡¡ 
.
¡¡ 
ComputeHash
¡¡ '
(
¡¡' (
encoding
¡¡( 0
.
¡¡0 1
GetBytes
¡¡1 9
(
¡¡9 :
originalPassword
¡¡: J
)
¡¡J K
)
¡¡K L
;
¡¡L M
for
¬¬ 
(
¬¬ 
int
¬¬ 
i
¬¬ 
=
¬¬ 
$num
¬¬ 
;
¬¬ 
i
¬¬ 
<
¬¬ 
stream
¬¬  &
.
¬¬& '
Length
¬¬' -
;
¬¬- .
i
¬¬/ 0
++
¬¬0 2
)
¬¬2 3
sb
¬¬4 6
.
¬¬6 7
AppendFormat
¬¬7 C
(
¬¬C D
$str
¬¬D L
,
¬¬L M
stream
¬¬N T
[
¬¬T U
i
¬¬U V
]
¬¬V W
)
¬¬W X
;
¬¬X Y
return
√√ 
sb
√√ 
.
√√ 
ToString
√√ 
(
√√ 
)
√√  
;
√√  !
}
≈≈ 	
}
∆∆ 
}«« Ø
áC:\Users\Vik-t\Documents\Software Engineering\5to Semestre\Tecnolog√≠as para la Construcci√≥n\Proyecto\LISMAN\Lisman\Lisman\App.xaml.cs
	namespace		 	
Lisman		
 
{		 
public 

partial 
class 
App 
: 
Application *
{+ ,
App 
( 
) 
{ 	
} 	
} 
} ŸO
âC:\Users\Vik-t\Documents\Software Engineering\5to Semestre\Tecnolog√≠as para la Construcci√≥n\Proyecto\LISMAN\Lisman\Lisman\Login.xaml.cs
	namespace 	
Lisman
 
{ 
public 

partial 
class 

MainWindow #
:$ %
Window& ,
{- .
public 

MainWindow 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
public 
Boolean 
ValidateFields %
(% &
)& '
{ 	
if 
( 
textField_user 
. 
Text "
==# %
$str& (
)( )
{* +
var   
messageError    
=  ! "

Properties  # -
.  - .
	Resources  . 7
.  7 8!
message_error_usename  8 M
;  M N

MessageBox!! 
.!! 
Show!! 
(!!  
messageError!!  ,
)!!, -
;!!- .
return"" 
false"" 
;"" 
}## 
if$$ 
($$  
passwordBox_password$$ $
.$$$ %
Password$$% -
==$$. 0
$str$$1 3
)$$3 4
{$$5 6
var%% 
messageError%%  
=%%! "

Properties%%# -
.%%- .
	Resources%%. 7
.%%7 8"
message_error_password%%8 N
;%%N O

MessageBox&& 
.&& 
Show&& 
(&&  
messageError&&  ,
)&&, -
;&&- .
return'' 
false'' 
;'' 
}(( 
return)) 
true)) 
;)) 
}** 	
private,, 
void,, 
Hyperlink_Click,, $
(,,$ %
object,,% +
sender,,, 2
,,,2 3
RoutedEventArgs,,4 C
e,,D E
),,E F
{-- 	
UserRegister.. 
userRegister.. $
=..% &
new..' *
UserRegister..+ 7
(..7 8
)..8 9
;..9 :
userRegister// 
.// 
Show// 
(// 
)// 
;// 
this00 
.00 
Close00 
(00 
)00 
;00 
}11 	
private33 
void33 "
MenuItem_Click_Spanish33 +
(33+ ,
object33, 2
sender333 9
,339 :
RoutedEventArgs33; J
e33K L
)33L M
{44 	
System55 
.55 
	Threading55 
.55 
Thread55 #
.55# $
CurrentThread55$ 1
.551 2
CurrentUICulture552 B
=55C D
new55E H
System55I O
.55O P
Globalization55P ]
.55] ^
CultureInfo55^ i
(55i j
$str55j q
)55q r
;55r s

MainWindow66 
login66 
=66 
new66 "

MainWindow66# -
(66- .
)66. /
;66/ 0
login77 
.77 
Show77 
(77 
)77 
;77 
this88 
.88 
Close88 
(88 
)88 
;88 
}99 	
private;; 
void;; "
MenuItem_Click_English;; +
(;;+ ,
object;;, 2
sender;;3 9
,;;9 :
RoutedEventArgs;;; J
e;;K L
);;L M
{<< 	
System== 
.== 
	Threading== 
.== 
Thread== #
.==# $
CurrentThread==$ 1
.==1 2
CurrentUICulture==2 B
===C D
new==E H
System==I O
.==O P
Globalization==P ]
.==] ^
CultureInfo==^ i
(==i j
$str==j l
)==l m
;==m n

MainWindow>> 
login>> 
=>> 
new>> "

MainWindow>># -
(>>- .
)>>. /
;>>/ 0
login?? 
.?? 
Show?? 
(?? 
)?? 
;?? 
this@@ 
.@@ 
Close@@ 
(@@ 
)@@ 
;@@ 
}AA 	
publicCC 
voidCC 
On_key_Down_HandlerCC '
(CC' (
objectCC( .
senderCC/ 5
,CC5 6
KeyEventArgsCC7 C
inputKeyCCD L
)CCL M
{CCN O
ifDD 
(DD 
inputKeyDD 
.DD 
KeyDD 
==DD 
KeyDD  #
.DD# $
ReturnDD$ *
)DD* +
{DD, -
	LoginUserEE 
(EE 
)EE 
;EE 
}FF 
}HH 	
privateKK 
voidKK 
btn_login_ClickKK $
(KK$ %
objectKK% +
senderKK, 2
,KK2 3
RoutedEventArgsKK4 C
eKKD E
)KKE F
{KKG H
	LoginUserLL 
(LL 
)LL 
;LL 
}MM 	
publicPP 
voidPP 
	LoginUserPP 
(PP 
)PP 
{PP  !
ifQQ 
(QQ 
ValidateFieldsQQ 
(QQ 
)QQ  
)QQ  !
{QQ" #
tryRR 
{SS 
usingTT 
(TT 
varTT 
clientTT %
=TT& '
newTT( +
LismanServiceTT, 9
.TT9 :
LoginManagerClientTT: L
(TTL M
)TTM N
)TTN O
{UU 
tryWW 
{XX 
LismanServiceYY )
.YY) *
AccountYY* 1
accountYY2 9
=YY: ;
clientYY< B
.YYB C
LoginAccountYYC O
(YYO P
textField_userYYP ^
.YY^ _
TextYY_ c
,YYc d
EncodePasswordYYe s
(YYs t!
passwordBox_password	YYt à
.
YYà â
Password
YYâ ë
)
YYë í
)
YYí ì
;
YYì î
ifZZ 
(ZZ  
accountZZ  '
!=ZZ( *
nullZZ+ /
)ZZ/ 0
{[[ 
if\\  "
(\\# $
account\\$ +
.\\+ ,
Key_confirmation\\, <
==\\= ?
$str\\@ B
)\\B C
{]]  !
SingletonAccount^^$ 4
.^^4 5
setSingletonAccount^^5 H
(^^H I
account^^I P
)^^P Q
;^^Q R
MainMenu__$ ,
mainMenu__- 5
=__6 7
new__8 ;
MainMenu__< D
(__D E
)__E F
;__F G
mainMenu``$ ,
.``, -
Show``- 1
(``1 2
)``2 3
;``3 4
thisaa$ (
.aa( )
Closeaa) .
(aa. /
)aa/ 0
;aa0 1
}bb  !
elsecc  $
{dd  !
varee$ '!
messageAccountConfirmee( =
=ee> ?

Propertiesee@ J
.eeJ K
	ResourceseeK T
.eeT U#
message_account_confirmeeU l
;eel m

MessageBoxff$ .
.ff. /
Showff/ 3
(ff3 4!
messageAccountConfirmff4 I
)ffI J
;ffJ K
}gg  !
}ii 
elsejj  
{kk 
varll  #
messageWarningLoginll$ 7
=ll8 9

Propertiesll: D
.llD E
	ResourcesllE N
.llN O!
message_warning_loginllO d
;lld e

MessageBoxmm  *
.mm* +
Showmm+ /
(mm/ 0
messageWarningLoginmm0 C
)mmC D
;mmD E
Loggeroo  &
.oo& '
logoo' *
.oo* +
Warnoo+ /
(oo/ 0
$stroo0 F
+ooG H
textField_userooI W
.ooW X
TextooX \
)oo\ ]
;oo] ^
}pp 
}qq 
catchrr 
(rr 
	Exceptionrr (
exrr) +
)rr+ ,
{ss 
Loggertt "
.tt" #
logtt# &
.tt& '
Errortt' ,
(tt, -
$strtt- C
+ttD E
exttF H
)ttH I
;ttI J
}uu 
}xx 
}yy 
catchyy 
(yy "
CommunicationExceptionyy /
eyy0 1
)yy1 2
{zz 

MessageBox{{ 
.{{ 
Show{{ #
({{# $
$str{{$ F
){{F G
;{{G H
}|| 
}~~ 
} 	
public
ÅÅ 
string
ÅÅ 
EncodePassword
ÅÅ $
(
ÅÅ$ %
string
ÅÅ% +
originalPassword
ÅÅ, <
)
ÅÅ< =
{
ÇÇ 	
SHA256
ÉÉ 
sha256
ÉÉ 
=
ÉÉ 
SHA256Managed
ÉÉ )
.
ÉÉ) *
Create
ÉÉ* 0
(
ÉÉ0 1
)
ÉÉ1 2
;
ÉÉ2 3
ASCIIEncoding
ÑÑ 
encoding
ÑÑ "
=
ÑÑ# $
new
ÑÑ% (
ASCIIEncoding
ÑÑ) 6
(
ÑÑ6 7
)
ÑÑ7 8
;
ÑÑ8 9
byte
ÖÖ 
[
ÖÖ 
]
ÖÖ 
stream
ÖÖ 
=
ÖÖ 
null
ÖÖ  
;
ÖÖ  !
StringBuilder
ÜÜ 
sb
ÜÜ 
=
ÜÜ 
new
ÜÜ "
StringBuilder
ÜÜ# 0
(
ÜÜ0 1
)
ÜÜ1 2
;
ÜÜ2 3
stream
áá 
=
áá 
sha256
áá 
.
áá 
ComputeHash
áá '
(
áá' (
encoding
áá( 0
.
áá0 1
GetBytes
áá1 9
(
áá9 :
originalPassword
áá: J
)
ááJ K
)
ááK L
;
ááL M
for
àà 
(
àà 
int
àà 
i
àà 
=
àà 
$num
àà 
;
àà 
i
àà 
<
àà 
stream
àà  &
.
àà& '
Length
àà' -
;
àà- .
i
àà/ 0
++
àà0 2
)
àà2 3
sb
àà4 6
.
àà6 7
AppendFormat
àà7 C
(
ààC D
$str
ààD L
,
ààL M
stream
ààN T
[
ààT U
i
ààU V
]
ààV W
)
ààW X
;
ààX Y
return
ââ 
sb
ââ 
.
ââ 
ToString
ââ 
(
ââ 
)
ââ  
;
ââ  !
}
ää 	
}
çç 
}éé ⁄
ñC:\Users\Vik-t\Documents\Software Engineering\5to Semestre\Tecnolog√≠as para la Construcci√≥n\Proyecto\LISMAN\Lisman\Lisman\Properties\AssemblyInfo.cs
[

 
assembly

 	
:

	 

AssemblyTitle

 
(

 
$str

 !
)

! "
]

" #
[ 
assembly 	
:	 

AssemblyDescription 
( 
$str !
)! "
]" #
[ 
assembly 	
:	 
!
AssemblyConfiguration  
(  !
$str! #
)# $
]$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str #
)# $
]$ %
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
["" 
assembly"" 	
:""	 

	ThemeInfo"" 
("" &
ResourceDictionaryLocation## 
.## 
None## #
,### $&
ResourceDictionaryLocation&& 
.&& 
SourceAssembly&& -
))) 
])) 
[66 
assembly66 	
:66	 

AssemblyVersion66 
(66 
$str66 $
)66$ %
]66% &
[77 
assembly77 	
:77	 

AssemblyFileVersion77 
(77 
$str77 (
)77( )
]77) *
[88 
assembly88 	
:88	 

log4net88 
.88 
Config88 
.88 
XmlConfigurator88 )
(88) *

ConfigFile88* 4
=885 6
$str887 G
)88G H
]88H I